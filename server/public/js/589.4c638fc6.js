(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[589],{1589:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return de}});var a=n(3740),r=n(3698),i=n(2938),o=n(3180),s=n(4414),c=n(3449),u=n(3064),l=n(1446),d=n(9991),h=n(6930),m=n(8983),g=n(7296),f=n(301),p=n(6237),b=n(2756),v=n(7150),y=n(1034),w=n(3307),x=n(723),S=n(8943),M=n(7112),k=n(198),D=function(){var t=this,e=t._self._c;return e(c.A,{attrs:{fluid:""}},[e(r.A,[e(i.ri,{staticClass:"d-flex align-center pa-4 primary lighten-1 white--text"},[e(h.A,{staticClass:"mr-2 white--text",attrs:{large:""}},[t._v("mdi-chart-box")]),e("span",{staticClass:"text-h5"},[t._v("Reports Dashboard")]),e(y.A),e(a.A,{staticClass:"mr-2",attrs:{color:"white",loading:t.loadingExcel},on:{click:t.exportToExcel}},[e(h.A,{attrs:{left:""}},[t._v("mdi-microsoft-excel")]),t._v(" Export Excel ")],1),e(a.A,{attrs:{color:"white",loading:t.loadingPDF},on:{click:t.generatePDF}},[e(h.A,{attrs:{left:""}},[t._v("mdi-file-pdf")]),t._v(" Export PDF ")],1)],1),e(i.OQ,[e(x.A,{attrs:{"background-color":"primary",dark:""},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[e(w.A,[t._v("Collections")]),e(w.A,[t._v("Consumption")]),e(w.A,[t._v("Overdue")]),e(w.A,[t._v("Revenue/Expense")])],1),e(S.A,{model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[e(b.A,{staticClass:"mt-4"},[e(s.A,{attrs:{cols:"12",sm:"6",md:"4"}},[e(p.A,{attrs:{"close-on-content-click":!1,"max-width":"290px","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function({on:n}){return[e(M.A,t._g({attrs:{label:"Date Range","persistent-hint":"",outlined:"",dense:"",readonly:"","prepend-icon":"mdi-calendar-range"},model:{value:t.dateRangeText,callback:function(e){t.dateRangeText=e},expression:"dateRangeText"}},n))]}}]),model:{value:t.dateMenu,callback:function(e){t.dateMenu=e},expression:"dateMenu"}},[e(l.A,{attrs:{range:"","no-title":"",scrollable:""},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}},[e(y.A),e(a.A,{attrs:{text:"",color:"primary"},on:{click:function(e){t.dateMenu=!1}}},[t._v("Cancel")]),e(a.A,{attrs:{text:"",color:"primary"},on:{click:t.applyDateRange}},[t._v("Apply")])],1)],1)],1)],1),e(b.A,{staticClass:"mt-4"},t._l(t.summaryStats,(function(n,a){return e(s.A,{key:a,attrs:{cols:"12",sm:"6",md:"3"}},[e(r.A,{staticClass:"summary-card",attrs:{outlined:"",hover:""}},[e(i.OQ,[e("div",{staticClass:"d-flex align-center"},[e(h.A,{staticClass:"mr-3",attrs:{large:"",color:n.color}},[t._v(t._s(n.icon))]),e("div",[e("div",{staticClass:"text-overline mb-1"},[t._v(t._s(n.label))]),e("div",{staticClass:"text-h5"},[t._v(t._s(n.value))])])],1)])],1)],1)})),1),e(r.A,{staticClass:"mt-4",attrs:{outlined:""}},[e(u.A,{staticClass:"elevation-1",attrs:{headers:t.currentHeaders,items:t.tableData,loading:t.loading,"items-per-page":10,search:t.search,"footer-props":{"items-per-page-options":[10,25,50],showFirstLastPage:!0}},scopedSlots:t._u([{key:"top",fn:function(){return[e(k.A,{attrs:{flat:""}},[e(M.A,{staticClass:"mx-4",attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]},proxy:!0},{key:"item.amount",fn:function({item:e}){return[t._v(" ₱"+t._s(t.formatNumber(e.amount))+" ")]}},{key:"item.consumption",fn:function({item:e}){return[t._v(" "+t._s(e.consumption)+" m³ ")]}},{key:"item.status",fn:function({item:n}){return[e(o.A,{attrs:{color:t.getStatusColor(n.status),small:"",label:""}},[t._v(" "+t._s(n.status)+" ")])]}},{key:"item.actions",fn:function({item:n}){return[e(a.A,{attrs:{small:"",text:"",color:"primary"},on:{click:function(e){return t.viewDetails(n)}}},[e(h.A,{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-eye")]),t._v(" Details ")],1)]}}])})],1)],1)],1)],1),e(d.A,{attrs:{"max-width":"600"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(r.A,[e(i.ri,{staticClass:"headline"},[t._v(" "+t._s(t.detailsTitle)+" "),e(y.A),e(a.A,{attrs:{icon:""},on:{click:function(e){t.dialog=!1}}},[e(h.A,[t._v("mdi-close")])],1)],1),e(i.OQ,[e(m.A,{attrs:{dense:""}},t._l(t.selectedDetails,(function(n,a){return e(g.A,{key:a},[e(f.pr,[e(f.w,[t._v(t._s(t.formatLabel(a)))]),e(f.UZ,[t._v(t._s(t.formatDetailValue(a,n)))])],1)],1)})),1)],1)],1)],1),e(v.A,{attrs:{color:t.snackbar.color,timeout:3e3},scopedSlots:t._u([{key:"action",fn:function({attrs:n}){return[e(a.A,t._b({attrs:{text:""},on:{click:function(e){t.snackbar.show=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbar.show,callback:function(e){t.$set(t.snackbar,"show",e)},expression:"snackbar.show"}},[t._v(" "+t._s(t.snackbar.text)+" ")])],1)},A=[],P=n(1988);const C={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},T=(t,e,n)=>{let a;const r=C[t];return a="string"===typeof r?r:1===e?r.one:r.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function E(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth,a=t.formats[n]||t.formats[t.defaultWidth];return a}}const _={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},W={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},N={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},O={date:E({formats:_,defaultWidth:"full"}),time:E({formats:W,defaultWidth:"full"}),dateTime:E({formats:N,defaultWidth:"full"})},R={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},L=(t,e,n,a)=>R[t];function F(t){return(e,n)=>{const a=n?.context?String(n.context):"standalone";let r;if("formatting"===a&&t.formattingValues){const e=t.defaultFormattingWidth||t.defaultWidth,a=n?.width?String(n.width):e;r=t.formattingValues[a]||t.formattingValues[e]}else{const e=t.defaultWidth,a=n?.width?String(n.width):t.defaultWidth;r=t.values[a]||t.values[e]}const i=t.argumentCallback?t.argumentCallback(e):e;return r[i]}}const $={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},H={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Y={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},z={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},B={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},j={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},q=(t,e)=>{const n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},X={ordinalNumber:q,era:F({values:$,defaultWidth:"wide"}),quarter:F({values:H,defaultWidth:"wide",argumentCallback:t=>t-1}),month:F({values:Y,defaultWidth:"wide"}),day:F({values:z,defaultWidth:"wide"}),dayPeriod:F({values:B,defaultWidth:"wide",formattingValues:j,defaultFormattingWidth:"wide"})};function Q(t){return(e,n={})=>{const a=n.width,r=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],i=e.match(r);if(!i)return null;const o=i[0],s=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(s)?I(s,(t=>t.test(o))):G(s,(t=>t.test(o)));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const l=e.slice(o.length);return{value:u,rest:l}}}function G(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function I(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function U(t){return(e,n={})=>{const a=e.match(t.matchPattern);if(!a)return null;const r=a[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const s=e.slice(r.length);return{value:o,rest:s}}}const J=/^(\d+)(th|st|nd|rd)?/i,V=/\d+/i,Z={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},K={any:[/^b/i,/^(a|c)/i]},tt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},et={any:[/1/i,/2/i,/3/i,/4/i]},nt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},at={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},rt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},it={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ot={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},st={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ct={ordinalNumber:U({matchPattern:J,parsePattern:V,valueCallback:t=>parseInt(t,10)}),era:Q({matchPatterns:Z,defaultMatchWidth:"wide",parsePatterns:K,defaultParseWidth:"any"}),quarter:Q({matchPatterns:tt,defaultMatchWidth:"wide",parsePatterns:et,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Q({matchPatterns:nt,defaultMatchWidth:"wide",parsePatterns:at,defaultParseWidth:"any"}),day:Q({matchPatterns:rt,defaultMatchWidth:"wide",parsePatterns:it,defaultParseWidth:"any"}),dayPeriod:Q({matchPatterns:ot,defaultMatchWidth:"any",parsePatterns:st,defaultParseWidth:"any"})},ut={code:"en-US",formatDistance:T,formatLong:O,formatRelative:L,localize:X,match:ct,options:{weekStartsOn:0,firstWeekContainsDate:1}};let lt={};function dt(){return lt}Math.pow(10,8);const ht=6048e5,mt=864e5,gt=Symbol.for("constructDateFrom");function ft(t,e){return"function"===typeof t?t(e):t&&"object"===typeof t&&gt in t?t[gt](e):t instanceof Date?new t.constructor(e):new Date(e)}function pt(t,e){return ft(e||t,t)}function bt(t){const e=pt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function vt(t,...e){const n=ft.bind(null,t||e.find((t=>"object"===typeof t)));return e.map(n)}function yt(t,e){const n=pt(t,e?.in);return n.setHours(0,0,0,0),n}function wt(t,e,n){const[a,r]=vt(n?.in,t,e),i=yt(a),o=yt(r),s=+i-bt(i),c=+o-bt(o);return Math.round((s-c)/mt)}function xt(t,e){const n=pt(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function St(t,e){const n=pt(t,e?.in),a=wt(n,xt(n)),r=a+1;return r}function Mt(t,e){const n=dt(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=pt(t,e?.in),i=r.getDay(),o=(i<a?7:0)+i-a;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function kt(t,e){return Mt(t,{...e,weekStartsOn:1})}function Dt(t,e){const n=pt(t,e?.in),a=n.getFullYear(),r=ft(n,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);const i=kt(r),o=ft(n,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const s=kt(o);return n.getTime()>=i.getTime()?a+1:n.getTime()>=s.getTime()?a:a-1}function At(t,e){const n=Dt(t,e),a=ft(e?.in||t,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),kt(a)}function Pt(t,e){const n=pt(t,e?.in),a=+kt(n)-+At(n);return Math.round(a/ht)+1}function Ct(t,e){const n=pt(t,e?.in),a=n.getFullYear(),r=dt(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=ft(e?.in||t,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const s=Mt(o,e),c=ft(e?.in||t,0);c.setFullYear(a,0,i),c.setHours(0,0,0,0);const u=Mt(c,e);return+n>=+s?a+1:+n>=+u?a:a-1}function Tt(t,e){const n=dt(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,r=Ct(t,e),i=ft(e?.in||t,0);i.setFullYear(r,0,a),i.setHours(0,0,0,0);const o=Mt(i,e);return o}function Et(t,e){const n=pt(t,e?.in),a=+Mt(n,e)-+Tt(n,e);return Math.round(a/ht)+1}function _t(t,e){const n=t<0?"-":"",a=Math.abs(t).toString().padStart(e,"0");return n+a}const Wt={y(t,e){const n=t.getFullYear(),a=n>0?n:1-n;return _t("yy"===e?a%100:a,e.length)},M(t,e){const n=t.getMonth();return"M"===e?String(n+1):_t(n+1,2)},d(t,e){return _t(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return"am"===n?"a.m.":"p.m."}},h(t,e){return _t(t.getHours()%12||12,e.length)},H(t,e){return _t(t.getHours(),e.length)},m(t,e){return _t(t.getMinutes(),e.length)},s(t,e){return _t(t.getSeconds(),e.length)},S(t,e){const n=e.length,a=t.getMilliseconds(),r=Math.trunc(a*Math.pow(10,n-3));return _t(r,e.length)}},Nt={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ot={G:function(t,e,n){const a=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,e,n){if("yo"===e){const e=t.getFullYear(),a=e>0?e:1-e;return n.ordinalNumber(a,{unit:"year"})}return Wt.y(t,e)},Y:function(t,e,n,a){const r=Ct(t,a),i=r>0?r:1-r;if("YY"===e){const t=i%100;return _t(t,2)}return"Yo"===e?n.ordinalNumber(i,{unit:"year"}):_t(i,e.length)},R:function(t,e){const n=Dt(t);return _t(n,e.length)},u:function(t,e){const n=t.getFullYear();return _t(n,e.length)},Q:function(t,e,n){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return _t(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,n){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return _t(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,n){const a=t.getMonth();switch(e){case"M":case"MM":return Wt.M(t,e);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,n){const a=t.getMonth();switch(e){case"L":return String(a+1);case"LL":return _t(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,n,a){const r=Et(t,a);return"wo"===e?n.ordinalNumber(r,{unit:"week"}):_t(r,e.length)},I:function(t,e,n){const a=Pt(t);return"Io"===e?n.ordinalNumber(a,{unit:"week"}):_t(a,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getDate(),{unit:"date"}):Wt.d(t,e)},D:function(t,e,n){const a=St(t);return"Do"===e?n.ordinalNumber(a,{unit:"dayOfYear"}):_t(a,e.length)},E:function(t,e,n){const a=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,n,a){const r=t.getDay(),i=(r-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return _t(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,a){const r=t.getDay(),i=(r-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return _t(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const a=t.getDay(),r=0===a?7:a;switch(e){case"i":return String(r);case"ii":return _t(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,n){const a=t.getHours(),r=a/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const a=t.getHours();let r;switch(r=12===a?Nt.noon:0===a?Nt.midnight:a/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const a=t.getHours();let r;switch(r=a>=17?Nt.evening:a>=12?Nt.afternoon:a>=4?Nt.morning:Nt.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){let e=t.getHours()%12;return 0===e&&(e=12),n.ordinalNumber(e,{unit:"hour"})}return Wt.h(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getHours(),{unit:"hour"}):Wt.H(t,e)},K:function(t,e,n){const a=t.getHours()%12;return"Ko"===e?n.ordinalNumber(a,{unit:"hour"}):_t(a,e.length)},k:function(t,e,n){let a=t.getHours();return 0===a&&(a=24),"ko"===e?n.ordinalNumber(a,{unit:"hour"}):_t(a,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Wt.m(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Wt.s(t,e)},S:function(t,e){return Wt.S(t,e)},X:function(t,e,n){const a=t.getTimezoneOffset();if(0===a)return"Z";switch(e){case"X":return Lt(a);case"XXXX":case"XX":return Ft(a);case"XXXXX":case"XXX":default:return Ft(a,":")}},x:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"x":return Lt(a);case"xxxx":case"xx":return Ft(a);case"xxxxx":case"xxx":default:return Ft(a,":")}},O:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Rt(a,":");case"OOOO":default:return"GMT"+Ft(a,":")}},z:function(t,e,n){const a=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Rt(a,":");case"zzzz":default:return"GMT"+Ft(a,":")}},t:function(t,e,n){const a=Math.trunc(+t/1e3);return _t(a,e.length)},T:function(t,e,n){return _t(+t,e.length)}};function Rt(t,e=""){const n=t>0?"-":"+",a=Math.abs(t),r=Math.trunc(a/60),i=a%60;return 0===i?n+String(r):n+String(r)+e+_t(i,2)}function Lt(t,e){if(t%60===0){const e=t>0?"-":"+";return e+_t(Math.abs(t)/60,2)}return Ft(t,e)}function Ft(t,e=""){const n=t>0?"-":"+",a=Math.abs(t),r=_t(Math.trunc(a/60),2),i=_t(a%60,2);return n+r+e+i}const $t=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Ht=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Yt=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],a=n[1],r=n[2];if(!r)return $t(t,e);let i;switch(a){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",$t(a,e)).replace("{{time}}",Ht(r,e))},zt={p:Ht,P:Yt},Bt=/^D+$/,jt=/^Y+$/,qt=["D","DD","YY","YYYY"];function Xt(t){return Bt.test(t)}function Qt(t){return jt.test(t)}function Gt(t,e,n){const a=It(t,e,n);if(console.warn(a),qt.includes(t))throw new RangeError(a)}function It(t,e,n){const a="Y"===t[0]?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function Ut(t){return t instanceof Date||"object"===typeof t&&"[object Date]"===Object.prototype.toString.call(t)}function Jt(t){return!(!Ut(t)&&"number"!==typeof t||isNaN(+pt(t)))}const Vt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Zt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Kt=/^'([^]*?)'?$/,te=/''/g,ee=/[a-zA-Z]/;function ne(t,e,n){const a=dt(),r=n?.locale??a.locale??ut,i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,s=pt(t,n?.in);if(!Jt(s))throw new RangeError("Invalid time value");let c=e.match(Zt).map((t=>{const e=t[0];if("p"===e||"P"===e){const n=zt[e];return n(t,r.formatLong)}return t})).join("").match(Vt).map((t=>{if("''"===t)return{isToken:!1,value:"'"};const e=t[0];if("'"===e)return{isToken:!1,value:ae(t)};if(Ot[e])return{isToken:!0,value:t};if(e.match(ee))throw new RangeError("Format string contains an unescaped latin alphabet character `"+e+"`");return{isToken:!1,value:t}}));r.localize.preprocessor&&(c=r.localize.preprocessor(s,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:r};return c.map((a=>{if(!a.isToken)return a.value;const i=a.value;(!n?.useAdditionalWeekYearTokens&&Qt(i)||!n?.useAdditionalDayOfYearTokens&&Xt(i))&&Gt(i,e,String(t));const o=Ot[i[0]];return o(s,i,r.localize,u)})).join("")}function ae(t){const e=t.match(Kt);return e?e[1].replace(te,"'"):t}var re=n(4213),ie=n(5093),oe=n.n(ie),se={name:"Reports",data(){return{activeTab:0,loading:!1,loadingPDF:!1,loadingExcel:!1,dateMenu:!1,dialog:!1,search:"",dateRange:[ne((new Date).setDate(1),"yyyy-MM-dd"),ne(new Date,"yyyy-MM-dd")],selectedDetails:null,snackbar:{show:!1,text:"",color:"success"},tableData:[],reportSummary:{},headers:{collections:[{text:"Date",value:"paymentDate"},{text:"Account No",value:"consumerId.accountNo"},{text:"Consumer Name",value:"consumerName"},{text:"Amount",value:"amountPaid",align:"right"},{text:"Payment Method",value:"paymentMethod"},{text:"Actions",value:"actions",sortable:!1}],consumption:[{text:"Account No",value:"accountNo"},{text:"Consumer Name",value:"consumerName"},{text:"Previous Reading",value:"previousRead"},{text:"Present Reading",value:"presentRead"},{text:"Consumption (m³)",value:"consumption"},{text:"Actions",value:"actions",sortable:!1}],overdue:[{text:"Account No",value:"accountNo"},{text:"Consumer Name",value:"consumerName"},{text:"Due Date",value:"dueDate"},{text:"Amount Due",value:"amount",align:"right"},{text:"Days Overdue",value:"daysPastDue"},{text:"Actions",value:"actions",sortable:!1}],revenue:[{text:"Date",value:"date"},{text:"Type",value:"type"},{text:"Description",value:"description"},{text:"Amount",value:"amount",align:"right"},{text:"Actions",value:"actions",sortable:!1}]}}},computed:{dateRangeText(){return 2===this.dateRange.length?`${ne(new Date(this.dateRange[0]),"MMM dd, yyyy")} - ${ne(new Date(this.dateRange[1]),"MMM dd, yyyy")}`:""},currentHeaders(){const t=["collections","consumption","overdue","revenue"];return this.headers[t[this.activeTab]]||[]},reportType(){const t=["collections","consumption","overdue","revenue"];return t[this.activeTab]},summaryStats(){const t={collections:[{label:"Total Collections",value:`₱${this.formatNumber(this.reportSummary.totalAmount||0)}`,icon:"mdi-cash-multiple",color:"success"},{label:"Total Transactions",value:this.reportSummary.totalTransactions||0,icon:"mdi-receipt",color:"primary"}],consumption:[{label:"Total Consumption",value:`${this.formatNumber(this.reportSummary.totalConsumption||0)} m³`,icon:"mdi-water",color:"info"},{label:"Average Consumption",value:`${this.formatNumber(this.reportSummary.averageConsumption||0)} m³`,icon:"mdi-chart-line",color:"primary"}]};return t[this.reportType]||[]},detailsTitle(){return`${this.reportType.charAt(0).toUpperCase()+this.reportType.slice(1)} Details`}},watch:{activeTab(){this.fetchData()},dateRange(){2===this.dateRange.length&&this.fetchData()}},methods:{async fetchData(){if(2!==!this.dateRange.length){this.loading=!0;try{const[t,e]=this.dateRange,n=await P.A.get("/report",{params:{startDate:t,endDate:e,reportType:this.reportType}});this.tableData=n.data.data.items.map((t=>({...t,paymentDate:oe()(t.patymenDate).format("YYYY-MM-DD"),date:oe()(t.date).format("YYYY-MM-DD")}))),console.log(this.tableData),this.reportSummary=n.data.data.summary}catch(t){console.error("Error fetching data:",t),this.showNotification("Error fetching report data","error")}this.loading=!1}},formatNumber(t){return Number(t).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})},formatDate(t){return ne(new Date(t),"MMM dd, yyyy")},getStatusColor(t){const e={Paid:"success",Pending:"warning",Overdue:"error",Active:"success",Inactive:"error"};return e[t]||"grey"},formatLabel(t){return t.split(/(?=[A-Z])/).join(" ").charAt(0).toUpperCase()+t.split(/(?=[A-Z])/).join(" ").slice(1)},formatDetailValue(t,e){return"number"===typeof e?t.toLowerCase().includes("amount")?`₱${this.formatNumber(e)}`:e:t.toLowerCase().includes("date")?this.formatDate(e):e},viewDetails(t){this.selectedDetails=t,this.dialog=!0},showNotification(t,e="success"){this.snackbar={show:!0,text:t,color:e}},async generatePDF(){this.loadingPDF=!0;try{const t=await P.A.post("/report/generate-pdf",{reportType:this.reportType,dateRange:this.dateRange,data:this.tableData,summary:this.reportSummary},{responseType:"blob"}),e=new Blob([t.data],{type:"application/pdf"});(0,re.saveAs)(e,`${this.reportType}-report.pdf`),this.showNotification("PDF generated successfully")}catch(t){console.error("Error generating PDF:",t),this.showNotification("Error generating PDF","error")}this.loadingPDF=!1},async exportToExcel(){this.loadingExcel=!0;try{const t=await P.A.post("/report/export-excel",{reportType:this.reportType,data:this.tableData,summary:this.reportSummary},{responseType:"blob"}),e=new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,re.saveAs)(e,`${this.reportType}-report.xlsx`),this.showNotification("Excel file generated successfully")}catch(t){console.error("Error generating Excel:",t),this.showNotification("Error generating Excel file","error")}this.loadingExcel=!1},applyDateRange(){this.dateMenu=!1,this.fetchData()}},mounted(){this.fetchData()}},ce=se,ue=n(1656),le=(0,ue.A)(ce,D,A,!1,null,"31202863",null),de=le.exports},9873:function(t,e,n){"use strict";n.d(e,{A:function(){return h}});n(4114);var a=n(1677),r=n(3497),i=r.A,o=n(3381),s=n(5803),c=n(8041),u=n(6988),l=n(4152);const d="undefined"!==typeof window&&"IntersectionObserver"in window;var h=(0,s.A)(i,o.A).extend({name:"v-img",directives:{intersect:a.A},props:{alt:String,contain:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},position:{type:String,default:"center center"},sizes:String,src:{type:[String,Object],default:""},srcset:String,transition:{type:[Boolean,String],default:"fade-transition"}},data(){return{currentSrc:"",image:null,isLoading:!0,calculatedAspectRatio:void 0,naturalWidth:void 0,hasError:!1}},computed:{computedAspectRatio(){return Number(this.normalisedSrc.aspect||this.calculatedAspectRatio)},normalisedSrc(){return this.src&&"object"===typeof this.src?{src:this.src.src,srcset:this.srcset||this.src.srcset,lazySrc:this.lazySrc||this.src.lazySrc,aspect:Number(this.aspectRatio||this.src.aspect)}:{src:this.src,srcset:this.srcset,lazySrc:this.lazySrc,aspect:Number(this.aspectRatio||0)}},__cachedImage(){if(!(this.normalisedSrc.src||this.normalisedSrc.lazySrc||this.gradient))return[];const t=[],e=this.isLoading?this.normalisedSrc.lazySrc:this.currentSrc;this.gradient&&t.push(`linear-gradient(${this.gradient})`),e&&t.push(`url("${e}")`);const n=this.$createElement("div",{staticClass:"v-image__image",class:{"v-image__image--preload":this.isLoading,"v-image__image--contain":this.contain,"v-image__image--cover":!this.contain},style:{backgroundImage:t.join(", "),backgroundPosition:this.position},key:+this.isLoading});return this.transition?this.$createElement("transition",{attrs:{name:this.transition,mode:"in-out"}},[n]):n}},watch:{src(){this.isLoading?this.loadImage():this.init(void 0,void 0,!0)},"$vuetify.breakpoint.width":"getSrc"},mounted(){this.init()},methods:{init(t,e,n){if(!d||n||this.eager){if(this.normalisedSrc.lazySrc){const t=new Image;t.src=this.normalisedSrc.lazySrc,this.pollForSize(t,null)}this.normalisedSrc.src&&this.loadImage()}},onLoad(){this.getSrc(),this.isLoading=!1,this.$emit("load",this.src),this.image&&(this.normalisedSrc.src.endsWith(".svg")||this.normalisedSrc.src.startsWith("data:image/svg+xml"))&&(this.image.naturalHeight&&this.image.naturalWidth?(this.naturalWidth=this.image.naturalWidth,this.calculatedAspectRatio=this.image.naturalWidth/this.image.naturalHeight):this.calculatedAspectRatio=1)},onError(){this.hasError=!0,this.$emit("error",this.src)},getSrc(){this.image&&(this.currentSrc=this.image.currentSrc||this.image.src)},loadImage(){const t=new Image;this.image=t,t.onload=()=>{t.decode?t.decode().catch((t=>{(0,u.OP)(`Failed to decode image, trying to render anyway\n\nsrc: ${this.normalisedSrc.src}`+(t.message?`\nOriginal error: ${t.message}`:""),this)})).then(this.onLoad):this.onLoad()},t.onerror=this.onError,this.hasError=!1,this.sizes&&(t.sizes=this.sizes),this.normalisedSrc.srcset&&(t.srcset=this.normalisedSrc.srcset),t.src=this.normalisedSrc.src,this.$emit("loadstart",this.normalisedSrc.src),this.aspectRatio||this.pollForSize(t),this.getSrc()},pollForSize(t,e=100){const n=()=>{const{naturalHeight:a,naturalWidth:r}=t;a||r?(this.naturalWidth=r,this.calculatedAspectRatio=r/a):t.complete||!this.isLoading||this.hasError||null==e||setTimeout(n,e)};n()},genContent(){const t=i.options.methods.genContent.call(this);return this.naturalWidth&&this._b(t.data,"div",{style:{width:`${this.naturalWidth}px`}}),t},__genPlaceholder(){const t=(0,l.$c)(this,"placeholder");if(t){const e=this.isLoading?[this.$createElement("div",{staticClass:"v-image__placeholder"},t)]:[];return this.transition?this.$createElement("transition",{props:{appear:!0,name:this.transition}},e):e[0]}}},render(t){const e=i.options.render.call(this,t),n=(0,c.Ay)(e.data,{staticClass:"v-image",attrs:{"aria-label":this.alt,role:this.alt?"img":void 0},class:this.themeClasses,directives:d?[{name:"intersect",modifiers:{once:!0},value:{handler:this.init,options:this.options}}]:void 0});return e.children=[this.__cachedSizer,this.__cachedImage,this.__genPlaceholder(),this.genContent()],t(e.tag,n,e.children)}})},198:function(t,e,n){"use strict";n.d(e,{A:function(){return s}});n(4114);var a=n(8184),r=n(9873),i=n(4152),o=n(6988),s=a.A.extend({name:"v-toolbar",props:{absolute:Boolean,bottom:Boolean,collapse:Boolean,dense:Boolean,extended:Boolean,extensionHeight:{default:48,type:[Number,String]},flat:Boolean,floating:Boolean,prominent:Boolean,short:Boolean,src:{type:[String,Object],default:""},tag:{type:String,default:"header"}},data:()=>({isExtended:!1}),computed:{computedHeight(){const t=this.computedContentHeight;if(!this.isExtended)return t;const e=parseInt(this.extensionHeight);return this.isCollapsed?t:t+(isNaN(e)?0:e)},computedContentHeight(){return this.height?parseInt(this.height):this.isProminent&&this.dense?96:this.isProminent&&this.short?112:this.isProminent?128:this.dense?48:this.short||this.$vuetify.breakpoint.smAndDown?56:64},classes(){return{...a.A.options.computed.classes.call(this),"v-toolbar":!0,"v-toolbar--absolute":this.absolute,"v-toolbar--bottom":this.bottom,"v-toolbar--collapse":this.collapse,"v-toolbar--collapsed":this.isCollapsed,"v-toolbar--dense":this.dense,"v-toolbar--extended":this.isExtended,"v-toolbar--flat":this.flat,"v-toolbar--floating":this.floating,"v-toolbar--prominent":this.isProminent}},isCollapsed(){return this.collapse},isProminent(){return this.prominent},styles(){return{...this.measurableStyles,height:(0,i.Dg)(this.computedHeight)}}},created(){const t=[["app","<v-app-bar app>"],["manual-scroll",'<v-app-bar :value="false">'],["clipped-left","<v-app-bar clipped-left>"],["clipped-right","<v-app-bar clipped-right>"],["inverted-scroll","<v-app-bar inverted-scroll>"],["scroll-off-screen","<v-app-bar scroll-off-screen>"],["scroll-target","<v-app-bar scroll-target>"],["scroll-threshold","<v-app-bar scroll-threshold>"],["card","<v-app-bar flat>"]];t.forEach((([t,e])=>{this.$attrs.hasOwnProperty(t)&&(0,o.q4)(t,e,this)}))},methods:{genBackground(){const t={height:(0,i.Dg)(this.computedHeight),src:this.src},e=this.$scopedSlots.img?this.$scopedSlots.img({props:t}):this.$createElement(r.A,{props:t});return this.$createElement("div",{staticClass:"v-toolbar__image"},[e])},genContent(){return this.$createElement("div",{staticClass:"v-toolbar__content",style:{height:(0,i.Dg)(this.computedContentHeight)}},(0,i.$c)(this))},genExtension(){return this.$createElement("div",{staticClass:"v-toolbar__extension",style:{height:(0,i.Dg)(this.extensionHeight)}},(0,i.$c)(this,"extension"))}},render(t){this.isExtended=this.extended||!!this.$scopedSlots.extension;const e=[this.genContent()],n=this.setBackgroundColor(this.color,{class:this.classes,style:this.styles,on:this.$listeners});return this.isExtended&&e.push(this.genExtension()),(this.src||this.$scopedSlots.img)&&e.unshift(this.genBackground()),t(this.tag,n,e)}})},4213:function(t,e,n){var a,r,i;(function(n,o){r=[],a=o,i="function"===typeof a?a.apply(e,r):a,void 0===i||(t.exports=i)})(0,(function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function a(t,e,n){var a=new XMLHttpRequest;a.open("GET",t),a.responseType="blob",a.onload=function(){c(a.response,e,n)},a.onerror=function(){console.error("could not download file")},a.send()}function r(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(a){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(t,e,n){var s=o.URL||o.webkitURL,c=document.createElement("a");e=e||t.name||"download",c.download=e,c.rel="noopener","string"==typeof t?(c.href=t,c.origin===location.origin?i(c):r(c.href)?a(t,e,n):i(c,c.target="_blank")):(c.href=s.createObjectURL(t),setTimeout((function(){s.revokeObjectURL(c.href)}),4e4),setTimeout((function(){i(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,o){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,o),n);else if(r(t))a(t,n,o);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout((function(){i(s)}))}}:function(t,e,n,r){if(r=r||open("","_blank"),r&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return a(t,e,n);var i="application/octet-stream"===t.type,c=/constructor/i.test(o.HTMLElement)||o.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||i&&c||s)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var t=l.result;t=u?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},l.readAsDataURL(t)}else{var d=o.URL||o.webkitURL,h=d.createObjectURL(t);r?r.location=h:location.href=h,r=null,setTimeout((function(){d.revokeObjectURL(h)}),4e4)}});o.saveAs=c.saveAs=c,t.exports=c}))}}]);
//# sourceMappingURL=589.4c638fc6.js.map