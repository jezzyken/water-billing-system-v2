{"version":3,"file":"js/658.fa779476.js","mappings":"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","sources":["webpack://client/./src/views/admin/DepartmentList.vue","webpack://client/src/views/admin/DepartmentList.vue","webpack://client/./src/views/admin/DepartmentList.vue?1dc9","webpack://client/./src/views/admin/DepartmentList.vue?0cd7"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('v-card',{attrs:{\"elevation\":\"2\"}},[_c('v-card-title',{staticClass:\"d-flex align-center py-3 px-4\"},[_c('h2',{staticClass:\"text-h5 font-weight-bold mb-0\"},[_vm._v(\"Department Management\")]),_c('v-spacer'),_c('v-btn',{staticClass:\"px-4\",attrs:{\"color\":\"primary\",\"prepend-icon\":\"mdi-plus\"},on:{\"click\":_vm.openCreateModal}},[_vm._v(\" Create New Department \")])],1),_c('v-divider'),_c('v-data-table',{staticClass:\"elevation-0\",attrs:{\"headers\":_vm.headers,\"items\":_vm.departments,\"loading\":_vm.loading,\"search\":_vm.search,\"items-per-page\":10,\"footer-props\":{\n        'items-per-page-options': [5, 10, 15, 20],\n        showFirstLastPage: true,\n      }},scopedSlots:_vm._u([{key:\"top\",fn:function(){return [_c('v-toolbar',{staticClass:\"px-4 d-flex justify-end\",attrs:{\"flat\":\"\"}},[_c('v-text-field',{staticClass:\"mt-6\",class:{ 'focused-field': _vm.isFocused },attrs:{\"prepend-inner-icon\":\"mdi-magnify\",\"label\":\"Search departments...\",\"hide-details\":\"\",\"dense\":\"\",\"outlined\":\"\",\"rounded\":\"\",\"clearable\":\"\"},on:{\"click:clear\":function($event){_vm.search = ''},\"focus\":function($event){_vm.isFocused = true},\"blur\":function($event){_vm.isFocused = false}},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1)]},proxy:true},{key:`item.name`,fn:function({ item }){return [_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(_vm._s(item.name))])]}},{key:`item.isActive`,fn:function({ item }){return [_c('v-chip',{attrs:{\"color\":item.isActive ? 'success' : 'grey',\"text-color\":item.isActive ? 'white' : '',\"small\":\"\",\"label\":\"\"}},[_vm._v(\" \"+_vm._s(item.isActive ? \"Active\" : \"Inactive\")+\" \")])]}},{key:`item.actions`,fn:function({ item }){return [_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-2\",attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.openEditModal(item)}}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-pencil\")])],1)]}}],null,true)},[_c('span',[_vm._v(\"Edit Department\")])]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"error\"},on:{\"click\":function($event){return _vm.confirmDelete(item._id)}}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-delete\")])],1)]}}],null,true)},[_c('span',[_vm._v(\"Delete Department\")])])]}},{key:\"no-data\",fn:function(){return [_c('v-alert',{staticClass:\"ma-4\",attrs:{\"type\":\"info\",\"text\":\"\"}},[_vm._v(\"No departments found\")])]},proxy:true}],null,true)})],1),_c('v-dialog',{attrs:{\"max-width\":\"600px\",\"persistent\":\"\"},model:{value:(_vm.showModal),callback:function ($$v) {_vm.showModal=$$v},expression:\"showModal\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"py-3 px-4\"},[_c('span',{staticClass:\"text-h5\"},[_vm._v(_vm._s(_vm.isEditing ? \"Edit Department\" : \"Create Department\"))]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.closeModal}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-divider'),_c('v-card-text',{staticClass:\"pt-4\"},[_c('v-form',{ref:\"form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"label\":\"Department Name\",\"required\":\"\",\"outlined\":\"\",\"dense\":\"\",\"rules\":[(v) => !!v || 'Name is required']},model:{value:(_vm.departmentForm.name),callback:function ($$v) {_vm.$set(_vm.departmentForm, \"name\", $$v)},expression:\"departmentForm.name\"}}),_c('v-switch',{staticClass:\"mt-2\",attrs:{\"label\":\"Active Status\",\"color\":\"success\",\"hide-details\":\"\"},model:{value:(_vm.departmentForm.isActive),callback:function ($$v) {_vm.$set(_vm.departmentForm, \"isActive\", $$v)},expression:\"departmentForm.isActive\"}})],1)],1),_c('v-divider'),_c('v-card-actions',{staticClass:\"py-3 px-4\"},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"grey darken-1\",\"disabled\":_vm.loading},on:{\"click\":_vm.closeModal}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"loading\":_vm.loading,\"disabled\":!_vm.valid},on:{\"click\":_vm.handleSubmit}},[_vm._v(\" \"+_vm._s(_vm.isEditing ? \"Update\" : \"Create\")+\" \")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"400\"},model:{value:(_vm.showDeleteDialog),callback:function ($$v) {_vm.showDeleteDialog=$$v},expression:\"showDeleteDialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"py-3 px-4\"},[_c('span',{staticClass:\"text-h6\"},[_vm._v(\"Delete Department\")])]),_c('v-card-text',{staticClass:\"pt-3\"},[_vm._v(\" Are you sure you want to delete this department? This action cannot be undone. \")]),_c('v-card-actions',{staticClass:\"py-3 px-4\"},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"grey darken-1\",\"disabled\":_vm.loading},on:{\"click\":function($event){_vm.showDeleteDialog = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"color\":\"error\",\"loading\":_vm.loading},on:{\"click\":_vm.handleDelete}},[_vm._v(\" Delete \")])],1)],1)],1),_c('v-snackbar',{attrs:{\"color\":_vm.snackbar.color,\"timeout\":3000,\"top\":\"\",\"right\":\"\"},scopedSlots:_vm._u([{key:\"action\",fn:function({ attrs }){return [_c('v-btn',_vm._b({attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar.show = false}}},'v-btn',attrs,false),[_vm._v(\"Close\")])]}}]),model:{value:(_vm.snackbar.show),callback:function ($$v) {_vm.$set(_vm.snackbar, \"show\", $$v)},expression:\"snackbar.show\"}},[_vm._v(\" \"+_vm._s(_vm.snackbar.text)+\" \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <v-card elevation=\"2\">\r\n      <v-card-title class=\"d-flex align-center py-3 px-4\">\r\n        <h2 class=\"text-h5 font-weight-bold mb-0\">Department Management</h2>\r\n        <v-spacer></v-spacer>\r\n        <v-btn\r\n          color=\"primary\"\r\n          @click=\"openCreateModal\"\r\n          prepend-icon=\"mdi-plus\"\r\n          class=\"px-4\"\r\n        >\r\n          Create New Department\r\n        </v-btn>\r\n      </v-card-title>\r\n\r\n      <v-divider></v-divider>\r\n\r\n      <v-data-table\r\n        :headers=\"headers\"\r\n        :items=\"departments\"\r\n        :loading=\"loading\"\r\n        :search=\"search\"\r\n        :items-per-page=\"10\"\r\n        :footer-props=\"{\r\n          'items-per-page-options': [5, 10, 15, 20],\r\n          showFirstLastPage: true,\r\n        }\"\r\n        class=\"elevation-0\"\r\n      >\r\n        <template v-slot:top>\r\n          <v-toolbar flat class=\"px-4 d-flex justify-end\">\r\n            <v-text-field\r\n              v-model=\"search\"\r\n              prepend-inner-icon=\"mdi-magnify\"\r\n              label=\"Search departments...\"\r\n              hide-details\r\n              dense\r\n              outlined\r\n              rounded\r\n              class=\"mt-6\"\r\n              clearable\r\n              @click:clear=\"search = ''\"\r\n              :class=\"{ 'focused-field': isFocused }\"\r\n              @focus=\"isFocused = true\"\r\n              @blur=\"isFocused = false\"\r\n            ></v-text-field>\r\n          </v-toolbar>\r\n        </template>\r\n\r\n        <template v-slot:[`item.name`]=\"{ item }\">\r\n          <div class=\"font-weight-medium\">{{ item.name }}</div>\r\n        </template>\r\n\r\n        <template v-slot:[`item.isActive`]=\"{ item }\">\r\n          <v-chip\r\n            :color=\"item.isActive ? 'success' : 'grey'\"\r\n            :text-color=\"item.isActive ? 'white' : ''\"\r\n            small\r\n            label\r\n          >\r\n            {{ item.isActive ? \"Active\" : \"Inactive\" }}\r\n          </v-chip>\r\n        </template>\r\n\r\n        <template v-slot:[`item.actions`]=\"{ item }\">\r\n          <v-tooltip bottom>\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n              <v-btn\r\n                icon\r\n                small\r\n                color=\"primary\"\r\n                @click=\"openEditModal(item)\"\r\n                class=\"mr-2\"\r\n                v-bind=\"attrs\"\r\n                v-on=\"on\"\r\n              >\r\n                <v-icon small>mdi-pencil</v-icon>\r\n              </v-btn>\r\n            </template>\r\n            <span>Edit Department</span>\r\n          </v-tooltip>\r\n\r\n          <v-tooltip bottom>\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n              <v-btn\r\n                icon\r\n                small\r\n                color=\"error\"\r\n                @click=\"confirmDelete(item._id)\"\r\n                v-bind=\"attrs\"\r\n                v-on=\"on\"\r\n              >\r\n                <v-icon small>mdi-delete</v-icon>\r\n              </v-btn>\r\n            </template>\r\n            <span>Delete Department</span>\r\n          </v-tooltip>\r\n        </template>\r\n\r\n        <template v-slot:no-data>\r\n          <v-alert type=\"info\" class=\"ma-4\" text>No departments found</v-alert>\r\n        </template>\r\n      </v-data-table>\r\n    </v-card>\r\n\r\n    <!-- Create/Edit Modal -->\r\n    <v-dialog v-model=\"showModal\" max-width=\"600px\" persistent>\r\n      <v-card>\r\n        <v-card-title class=\"py-3 px-4\">\r\n          <span class=\"text-h5\">{{\r\n            isEditing ? \"Edit Department\" : \"Create Department\"\r\n          }}</span>\r\n          <v-spacer></v-spacer>\r\n          <v-btn icon @click=\"closeModal\">\r\n            <v-icon>mdi-close</v-icon>\r\n          </v-btn>\r\n        </v-card-title>\r\n\r\n        <v-divider></v-divider>\r\n\r\n        <v-card-text class=\"pt-4\">\r\n          <v-form ref=\"form\" v-model=\"valid\" @submit.prevent=\"handleSubmit\">\r\n            <v-text-field\r\n              v-model=\"departmentForm.name\"\r\n              label=\"Department Name\"\r\n              required\r\n              outlined\r\n              dense\r\n              :rules=\"[(v) => !!v || 'Name is required']\"\r\n            ></v-text-field>\r\n\r\n            <v-switch\r\n              v-model=\"departmentForm.isActive\"\r\n              label=\"Active Status\"\r\n              color=\"success\"\r\n              class=\"mt-2\"\r\n              hide-details\r\n            ></v-switch>\r\n          </v-form>\r\n        </v-card-text>\r\n\r\n        <v-divider></v-divider>\r\n\r\n        <v-card-actions class=\"py-3 px-4\">\r\n          <v-spacer></v-spacer>\r\n          <v-btn\r\n            text\r\n            color=\"grey darken-1\"\r\n            @click=\"closeModal\"\r\n            :disabled=\"loading\"\r\n          >\r\n            Cancel\r\n          </v-btn>\r\n          <v-btn\r\n            color=\"primary\"\r\n            @click=\"handleSubmit\"\r\n            :loading=\"loading\"\r\n            :disabled=\"!valid\"\r\n          >\r\n            {{ isEditing ? \"Update\" : \"Create\" }}\r\n          </v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n    <!-- Delete Confirmation Dialog -->\r\n    <v-dialog v-model=\"showDeleteDialog\" max-width=\"400\">\r\n      <v-card>\r\n        <v-card-title class=\"py-3 px-4\">\r\n          <span class=\"text-h6\">Delete Department</span>\r\n        </v-card-title>\r\n\r\n        <v-card-text class=\"pt-3\">\r\n          Are you sure you want to delete this department? This action cannot be\r\n          undone.\r\n        </v-card-text>\r\n\r\n        <v-card-actions class=\"py-3 px-4\">\r\n          <v-spacer></v-spacer>\r\n          <v-btn\r\n            text\r\n            color=\"grey darken-1\"\r\n            @click=\"showDeleteDialog = false\"\r\n            :disabled=\"loading\"\r\n          >\r\n            Cancel\r\n          </v-btn>\r\n          <v-btn color=\"error\" @click=\"handleDelete\" :loading=\"loading\">\r\n            Delete\r\n          </v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n    <v-snackbar\r\n      v-model=\"snackbar.show\"\r\n      :color=\"snackbar.color\"\r\n      :timeout=\"3000\"\r\n      top\r\n      right\r\n    >\r\n      {{ snackbar.text }}\r\n      <template v-slot:action=\"{ attrs }\">\r\n        <v-btn text v-bind=\"attrs\" @click=\"snackbar.show = false\">Close</v-btn>\r\n      </template>\r\n    </v-snackbar>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapGetters, mapActions } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"DepartmentManagement\",\r\n\r\n  data() {\r\n    return {\r\n      search: \"\",\r\n      isFocused: false,\r\n      valid: true,\r\n      showModal: false,\r\n      showDeleteDialog: false,\r\n      isEditing: false,\r\n      departmentForm: {\r\n        name: \"\",\r\n        isActive: true,\r\n      },\r\n      currentDepartmentId: null,\r\n      headers: [\r\n        { text: \"Name\", value: \"name\" },\r\n        { text: \"Status\", value: \"isActive\" },\r\n        { text: \"Actions\", value: \"actions\", sortable: false },\r\n      ],\r\n      snackbar: {\r\n        show: false,\r\n        text: \"\",\r\n        color: \"\",\r\n      },\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapState(\"departments\", [\"loading\", \"error\"]),\r\n    ...mapGetters(\"departments\", [\"departments\"]),\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions(\"departments\", [\r\n      \"fetchDepartments\",\r\n      \"createDepartment\",\r\n      \"updateDepartment\",\r\n      \"deleteDepartment\",\r\n    ]),\r\n\r\n    showSnackbar(text, color = \"success\") {\r\n      this.snackbar = {\r\n        show: true,\r\n        text,\r\n        color,\r\n      };\r\n    },\r\n\r\n    openCreateModal() {\r\n      this.isEditing = false;\r\n      this.departmentForm = {\r\n        name: \"\",\r\n        isActive: true,\r\n      };\r\n      this.showModal = true;\r\n    },\r\n\r\n    openEditModal(department) {\r\n      this.isEditing = true;\r\n      this.currentDepartmentId = department._id;\r\n      this.departmentForm = {\r\n        name: department.name,\r\n        isActive: department.isActive,\r\n      };\r\n      this.showModal = true;\r\n    },\r\n\r\n    closeModal() {\r\n      this.showModal = false;\r\n      this.$refs.form.reset();\r\n    },\r\n\r\n    async handleSubmit() {\r\n      if (!this.$refs.form.validate()) return;\r\n\r\n      try {\r\n        if (this.isEditing) {\r\n          await this.updateDepartment({\r\n            id: this.currentDepartmentId,\r\n            departmentData: this.departmentForm,\r\n          });\r\n          this.showSnackbar(\"Department updated successfully\");\r\n        } else {\r\n          await this.createDepartment(this.departmentForm);\r\n          this.showSnackbar(\"Department created successfully\");\r\n        }\r\n        this.closeModal();\r\n        await this.fetchDepartments();\r\n      } catch (error) {\r\n        this.showSnackbar(error.message || \"An error occurred\", \"error\");\r\n      }\r\n    },\r\n\r\n    confirmDelete(id) {\r\n      this.currentDepartmentId = id;\r\n      this.showDeleteDialog = true;\r\n    },\r\n\r\n    async handleDelete() {\r\n      try {\r\n        await this.deleteDepartment(this.currentDepartmentId);\r\n        this.showSnackbar(\"Department deleted successfully\");\r\n        this.showDeleteDialog = false;\r\n        await this.fetchDepartments();\r\n      } catch (error) {\r\n        this.showSnackbar(error.message || \"An error occurred\", \"error\");\r\n      }\r\n    },\r\n  },\r\n\r\n  async created() {\r\n    try {\r\n      await this.fetchDepartments();\r\n    } catch (error) {\r\n      this.showSnackbar(\r\n        error.message || \"Failed to fetch departments\",\r\n        \"error\"\r\n      );\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.focused-field {\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.focused-field:deep(.v-input__slot) {\r\n  background: #f5f5f5;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DepartmentList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DepartmentList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DepartmentList.vue?vue&type=template&id=5970b301&scoped=true\"\nimport script from \"./DepartmentList.vue?vue&type=script&lang=js\"\nexport * from \"./DepartmentList.vue?vue&type=script&lang=js\"\nimport style0 from \"./DepartmentList.vue?vue&type=style&index=0&id=5970b301&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5970b301\",\n  null\n  \n)\n\nexport default component.exports"],"names":["staticClass","attrs","headers","_vm","showFirstLastPage","scopedSlots","key","fn","on","search","model","value","callback","$$v","expression","proxy","item","_b","_v","_c","ref","valid","departmentForm","$set","isEditing","$event","showDeleteDialog","snackbar","staticRenderFns","render","name","data","isFocused","showModal","isActive","currentDepartmentId","text","sortable","show","color","computed","mapState","mapGetters","methods","mapActions","showSnackbar","openCreateModal","openEditModal","department","_id","closeModal","$refs","form","reset","handleSubmit","validate","updateDepartment","id","departmentData","createDepartment","fetchDepartments","error","message","confirmDelete","handleDelete","deleteDepartment","created","component"],"sourceRoot":""}