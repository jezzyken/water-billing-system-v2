{"version":3,"file":"js/862.0920e622.js","mappings":"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","sources":["webpack://client/./src/views/admin/RoleList.vue","webpack://client/src/views/admin/RoleList.vue","webpack://client/./src/views/admin/RoleList.vue?ae70","webpack://client/./src/views/admin/RoleList.vue?f8f5","webpack://client/../../../src/components/VTextarea/VTextarea.ts"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('v-card',{attrs:{\"elevation\":\"2\"}},[_c('v-card-title',{staticClass:\"d-flex align-center py-3 px-4\"},[_c('h2',{staticClass:\"text-h5 font-weight-bold mb-0\"},[_vm._v(\"Role Management\")]),_c('v-spacer'),_c('v-btn',{staticClass:\"px-4\",attrs:{\"color\":\"primary\",\"prepend-icon\":\"mdi-plus\"},on:{\"click\":_vm.openCreateModal}},[_vm._v(\" Create New Role \")])],1),_c('v-divider'),_c('v-data-table',{staticClass:\"elevation-0\",attrs:{\"headers\":_vm.headers,\"items\":_vm.roles,\"loading\":_vm.loading,\"search\":_vm.search,\"items-per-page\":10,\"footer-props\":{\n        'items-per-page-options': [5, 10, 15, 20],\n        showFirstLastPage: true,\n      }},scopedSlots:_vm._u([{key:\"top\",fn:function(){return [_c('v-toolbar',{staticClass:\"px-4 d-flex justify-end\",attrs:{\"flat\":\"\"}},[_c('v-text-field',{staticClass:\"mt-6\",class:{ 'focused-field': _vm.isFocused },attrs:{\"prepend-inner-icon\":\"mdi-magnify\",\"label\":\"Search roles...\",\"hide-details\":\"\",\"dense\":\"\",\"outlined\":\"\",\"rounded\":\"\",\"clearable\":\"\"},on:{\"click:clear\":function($event){_vm.search = ''},\"focus\":function($event){_vm.isFocused = true},\"blur\":function($event){_vm.isFocused = false}},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1)]},proxy:true},{key:`item.name`,fn:function({ item }){return [_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(_vm._s(item.name))])]}},{key:`item.isActive`,fn:function({ item }){return [_c('v-chip',{attrs:{\"color\":item.isActive ? 'success' : 'grey',\"text-color\":item.isActive ? 'white' : '',\"small\":\"\",\"label\":\"\"}},[_vm._v(\" \"+_vm._s(item.isActive ? \"Active\" : \"Inactive\")+\" \")])]}},{key:`item.permissions`,fn:function({ item }){return _vm._l((item.permissions),function(permission){return _c('v-chip',{key:permission,staticClass:\"mr-1 mb-1\",attrs:{\"small\":\"\",\"outlined\":\"\",\"color\":\"primary\"}},[_vm._v(\" \"+_vm._s(permission)+\" \")])})}},{key:`item.actions`,fn:function({ item }){return [_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-2\",attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.openEditModal(item)}}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-pencil\")])],1)]}}],null,true)},[_c('span',[_vm._v(\"Edit Role\")])]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"error\"},on:{\"click\":function($event){return _vm.confirmDelete(item._id)}}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-delete\")])],1)]}}],null,true)},[_c('span',[_vm._v(\"Delete Role\")])])]}},{key:\"no-data\",fn:function(){return [_c('v-alert',{staticClass:\"ma-4\",attrs:{\"type\":\"info\",\"text\":\"\"}},[_vm._v(\" No roles found \")])]},proxy:true},{key:\"progress\",fn:function(){return [_c('v-overlay',{attrs:{\"value\":_vm.loading,\"absolute\":\"\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"64\"}})],1)]},proxy:true}],null,true)})],1),_c('v-dialog',{attrs:{\"max-width\":\"600px\",\"persistent\":\"\"},model:{value:(_vm.showModal),callback:function ($$v) {_vm.showModal=$$v},expression:\"showModal\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"py-3 px-4\"},[_c('span',{staticClass:\"text-h5\"},[_vm._v(_vm._s(_vm.isEditing ? \"Edit Role\" : \"Create Role\"))]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.closeModal}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('v-divider'),_c('v-card-text',{staticClass:\"pt-4\"},[_c('v-form',{ref:\"form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"label\":\"Role Name\",\"required\":\"\",\"outlined\":\"\",\"dense\":\"\",\"rules\":[(v) => !!v || 'Name is required']},model:{value:(_vm.roleForm.name),callback:function ($$v) {_vm.$set(_vm.roleForm, \"name\", $$v)},expression:\"roleForm.name\"}}),_c('v-select',{attrs:{\"items\":_vm.availablePermissions,\"label\":\"Permissions\",\"multiple\":\"\",\"chips\":\"\",\"outlined\":\"\",\"dense\":\"\",\"required\":\"\",\"rules\":[\n              (v) => v.length > 0 || 'At least one permission is required',\n            ]},scopedSlots:_vm._u([{key:\"selection\",fn:function({ item, index }){return [(index < 3)?_c('v-chip',{staticClass:\"mr-1\",attrs:{\"small\":\"\",\"label\":\"\"}},[_vm._v(\" \"+_vm._s(item)+\" \")]):_vm._e(),(index === 3)?_c('span',{staticClass:\"text-caption grey--text\"},[_vm._v(\" (+\"+_vm._s(_vm.roleForm.permissions.length - 3)+\" more) \")]):_vm._e()]}}]),model:{value:(_vm.roleForm.permissions),callback:function ($$v) {_vm.$set(_vm.roleForm, \"permissions\", $$v)},expression:\"roleForm.permissions\"}}),_c('v-textarea',{staticClass:\"mt-3\",attrs:{\"label\":\"Description\",\"rows\":\"3\",\"outlined\":\"\",\"dense\":\"\",\"placeholder\":\"Enter role description...\"},model:{value:(_vm.roleForm.description),callback:function ($$v) {_vm.$set(_vm.roleForm, \"description\", $$v)},expression:\"roleForm.description\"}}),_c('v-switch',{staticClass:\"mt-2\",attrs:{\"label\":\"Active Status\",\"color\":\"success\",\"hide-details\":\"\"},model:{value:(_vm.roleForm.isActive),callback:function ($$v) {_vm.$set(_vm.roleForm, \"isActive\", $$v)},expression:\"roleForm.isActive\"}})],1)],1),_c('v-divider'),_c('v-card-actions',{staticClass:\"py-3 px-4\"},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"grey darken-1\",\"disabled\":_vm.loading},on:{\"click\":_vm.closeModal}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"loading\":_vm.loading,\"disabled\":!_vm.valid},on:{\"click\":_vm.handleSubmit}},[_vm._v(\" \"+_vm._s(_vm.isEditing ? \"Update\" : \"Create\")+\" \")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"400\"},model:{value:(_vm.showDeleteDialog),callback:function ($$v) {_vm.showDeleteDialog=$$v},expression:\"showDeleteDialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"py-3 px-4\"},[_c('span',{staticClass:\"text-h6\"},[_vm._v(\"Delete Role\")])]),_c('v-card-text',{staticClass:\"pt-3\"},[_vm._v(\" Are you sure you want to delete this role? This action cannot be undone. \")]),_c('v-card-actions',{staticClass:\"py-3 px-4\"},[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"color\":\"grey darken-1\",\"disabled\":_vm.loading},on:{\"click\":function($event){_vm.showDeleteDialog = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"color\":\"error\",\"loading\":_vm.loading},on:{\"click\":_vm.handleDelete}},[_vm._v(\" Delete \")])],1)],1)],1),_c('v-snackbar',{attrs:{\"color\":_vm.snackbar.color,\"timeout\":3000,\"top\":\"\",\"right\":\"\"},scopedSlots:_vm._u([{key:\"action\",fn:function({ attrs }){return [_c('v-btn',_vm._b({attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar.show = false}}},'v-btn',attrs,false),[_vm._v(\" Close \")])]}}]),model:{value:(_vm.snackbar.show),callback:function ($$v) {_vm.$set(_vm.snackbar, \"show\", $$v)},expression:\"snackbar.show\"}},[_vm._v(\" \"+_vm._s(_vm.snackbar.text)+\" \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n    <v-card elevation=\"2\">\r\n      <v-card-title class=\"d-flex align-center py-3 px-4\">\r\n        <h2 class=\"text-h5 font-weight-bold mb-0\">Role Management</h2>\r\n        <v-spacer></v-spacer>\r\n        <v-btn color=\"primary\" @click=\"openCreateModal\" prepend-icon=\"mdi-plus\" class=\"px-4\">\r\n          Create New Role\r\n        </v-btn>\r\n      </v-card-title>\r\n\r\n      <v-divider></v-divider>\r\n\r\n      <v-data-table :headers=\"headers\" :items=\"roles\" :loading=\"loading\" :search=\"search\" :items-per-page=\"10\"\r\n        :footer-props=\"{\r\n          'items-per-page-options': [5, 10, 15, 20],\r\n          showFirstLastPage: true,\r\n        }\" class=\"elevation-0\">\r\n        <template v-slot:top>\r\n          <v-toolbar flat class=\"px-4 d-flex justify-end\">\r\n            <v-text-field v-model=\"search\" prepend-inner-icon=\"mdi-magnify\" label=\"Search roles...\" hide-details dense\r\n              outlined rounded class=\"mt-6\" clearable @click:clear=\"search = ''\" :class=\"{ 'focused-field': isFocused }\"\r\n              @focus=\"isFocused = true\" @blur=\"isFocused = false\"></v-text-field>\r\n          </v-toolbar>\r\n        </template>\r\n\r\n        <template v-slot:[`item.name`]=\"{ item }\">\r\n          <div class=\"font-weight-medium\">{{ item.name }}</div>\r\n        </template>\r\n\r\n        <template v-slot:[`item.isActive`]=\"{ item }\">\r\n          <v-chip :color=\"item.isActive ? 'success' : 'grey'\" :text-color=\"item.isActive ? 'white' : ''\" small label>\r\n            {{ item.isActive ? \"Active\" : \"Inactive\" }}\r\n          </v-chip>\r\n        </template>\r\n\r\n        <template v-slot:[`item.permissions`]=\"{ item }\">\r\n          <v-chip v-for=\"permission in item.permissions\" :key=\"permission\" class=\"mr-1 mb-1\" small outlined\r\n            color=\"primary\">\r\n            {{ permission }}\r\n          </v-chip>\r\n        </template>\r\n\r\n        <template v-slot:[`item.actions`]=\"{ item }\">\r\n          <v-tooltip bottom>\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n              <v-btn icon small color=\"primary\" @click=\"openEditModal(item)\" class=\"mr-2\" v-bind=\"attrs\" v-on=\"on\">\r\n                <v-icon small>mdi-pencil</v-icon>\r\n              </v-btn>\r\n            </template>\r\n            <span>Edit Role</span>\r\n          </v-tooltip>\r\n\r\n          <v-tooltip bottom>\r\n            <template v-slot:activator=\"{ on, attrs }\">\r\n              <v-btn icon small color=\"error\" @click=\"confirmDelete(item._id)\" v-bind=\"attrs\" v-on=\"on\">\r\n                <v-icon small>mdi-delete</v-icon>\r\n              </v-btn>\r\n            </template>\r\n            <span>Delete Role</span>\r\n          </v-tooltip>\r\n        </template>\r\n\r\n        <template v-slot:no-data>\r\n          <v-alert type=\"info\" class=\"ma-4\" text> No roles found </v-alert>\r\n        </template>\r\n\r\n        <template v-slot:progress>\r\n          <v-overlay :value=\"loading\" absolute>\r\n            <v-progress-circular indeterminate size=\"64\"></v-progress-circular>\r\n          </v-overlay>\r\n        </template>\r\n      </v-data-table>\r\n    </v-card>\r\n\r\n    <!-- Enhanced Create/Edit Modal -->\r\n    <v-dialog v-model=\"showModal\" max-width=\"600px\" persistent>\r\n      <v-card>\r\n        <v-card-title class=\"py-3 px-4\">\r\n          <span class=\"text-h5\">{{\r\n            isEditing ? \"Edit Role\" : \"Create Role\"\r\n          }}</span>\r\n          <v-spacer></v-spacer>\r\n          <v-btn icon @click=\"closeModal\">\r\n            <v-icon>mdi-close</v-icon>\r\n          </v-btn>\r\n        </v-card-title>\r\n\r\n        <v-divider></v-divider>\r\n\r\n        <v-card-text class=\"pt-4\">\r\n          <v-form ref=\"form\" v-model=\"valid\" @submit.prevent=\"handleSubmit\">\r\n            <v-text-field v-model=\"roleForm.name\" label=\"Role Name\" required outlined dense\r\n              :rules=\"[(v) => !!v || 'Name is required']\"></v-text-field>\r\n\r\n            <v-select v-model=\"roleForm.permissions\" :items=\"availablePermissions\" label=\"Permissions\" multiple chips\r\n              outlined dense required :rules=\"[\r\n                (v) => v.length > 0 || 'At least one permission is required',\r\n              ]\">\r\n              <template v-slot:selection=\"{ item, index }\">\r\n                <v-chip v-if=\"index < 3\" small label class=\"mr-1\">\r\n                  {{ item }}\r\n                </v-chip>\r\n                <span v-if=\"index === 3\" class=\"text-caption grey--text\">\r\n                  (+{{ roleForm.permissions.length - 3 }} more)\r\n                </span>\r\n              </template>\r\n            </v-select>\r\n\r\n            <v-textarea v-model=\"roleForm.description\" label=\"Description\" rows=\"3\" outlined dense class=\"mt-3\"\r\n              placeholder=\"Enter role description...\"></v-textarea>\r\n\r\n            <v-switch v-model=\"roleForm.isActive\" label=\"Active Status\" color=\"success\" class=\"mt-2\"\r\n              hide-details></v-switch>\r\n          </v-form>\r\n        </v-card-text>\r\n\r\n        <v-divider></v-divider>\r\n\r\n        <v-card-actions class=\"py-3 px-4\">\r\n          <v-spacer></v-spacer>\r\n          <v-btn text color=\"grey darken-1\" @click=\"closeModal\" :disabled=\"loading\">\r\n            Cancel\r\n          </v-btn>\r\n          <v-btn color=\"primary\" @click=\"handleSubmit\" :loading=\"loading\" :disabled=\"!valid\">\r\n            {{ isEditing ? \"Update\" : \"Create\" }}\r\n          </v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n    <!-- Enhanced Delete Confirmation Dialog -->\r\n    <v-dialog v-model=\"showDeleteDialog\" max-width=\"400\">\r\n      <v-card>\r\n        <v-card-title class=\"py-3 px-4\">\r\n          <span class=\"text-h6\">Delete Role</span>\r\n        </v-card-title>\r\n\r\n        <v-card-text class=\"pt-3\">\r\n          Are you sure you want to delete this role? This action cannot be\r\n          undone.\r\n        </v-card-text>\r\n\r\n        <v-card-actions class=\"py-3 px-4\">\r\n          <v-spacer></v-spacer>\r\n          <v-btn text color=\"grey darken-1\" @click=\"showDeleteDialog = false\" :disabled=\"loading\">\r\n            Cancel\r\n          </v-btn>\r\n          <v-btn color=\"error\" @click=\"handleDelete\" :loading=\"loading\">\r\n            Delete\r\n          </v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n\r\n    <!-- Enhanced Snackbar -->\r\n    <v-snackbar v-model=\"snackbar.show\" :color=\"snackbar.color\" :timeout=\"3000\" top right>\r\n      {{ snackbar.text }}\r\n      <template v-slot:action=\"{ attrs }\">\r\n        <v-btn text v-bind=\"attrs\" @click=\"snackbar.show = false\">\r\n          Close\r\n        </v-btn>\r\n      </template>\r\n    </v-snackbar>\r\n  </v-container>\r\n</template>\r\n<script>\r\nimport { mapState, mapGetters, mapActions } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"RoleManagement\",\r\n\r\n  data() {\r\n    return {\r\n      search: \"\",\r\n      isFocused: false,\r\n      valid: true,\r\n      showModal: false,\r\n      showDeleteDialog: false,\r\n      isEditing: false,\r\n      roleForm: {\r\n        name: \"\",\r\n        permissions: [],\r\n        description: \"\",\r\n        isActive: true,\r\n      },\r\n      currentRoleId: null,\r\n      headers: [\r\n        { text: \"Name\", value: \"name\" },\r\n        { text: \"Permissions\", value: \"permissions\" },\r\n        { text: \"Description\", value: \"description\" },\r\n        { text: \"Status\", value: \"isActive\" },\r\n        { text: \"Actions\", value: \"actions\", sortable: false },\r\n      ],\r\n      availablePermissions: [\r\n        \"view\",\r\n        \"create\",\r\n        \"update\",\r\n        \"delete\",\r\n        \"upload_attachments\",\r\n        \"view_attachments\",\r\n        \"change_document_status\",\r\n        \"recieved_document\"\r\n      ],\r\n      snackbar: {\r\n        show: false,\r\n        text: \"\",\r\n        color: \"\",\r\n      },\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapState(\"roles\", [\"loading\", \"error\"]),\r\n    ...mapGetters(\"roles\", [\"roles\"]),\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions(\"roles\", [\r\n      \"fetchRoles\",\r\n      \"createRole\",\r\n      \"updateRole\",\r\n      \"deleteRole\",\r\n    ]),\r\n\r\n    showSnackbar(text, color = \"success\") {\r\n      this.snackbar = {\r\n        show: true,\r\n        text,\r\n        color,\r\n      };\r\n    },\r\n\r\n    openCreateModal() {\r\n      this.isEditing = false;\r\n      this.roleForm = {\r\n        name: \"\",\r\n        permissions: [],\r\n        description: \"\",\r\n        isActive: true,\r\n      };\r\n      this.showModal = true;\r\n    },\r\n\r\n    openEditModal(role) {\r\n      this.isEditing = true;\r\n      this.currentRoleId = role._id;\r\n      this.roleForm = {\r\n        name: role.name,\r\n        permissions: [...role.permissions],\r\n        description: role.description,\r\n        isActive: role.isActive,\r\n      };\r\n      this.showModal = true;\r\n    },\r\n\r\n    closeModal() {\r\n      this.showModal = false;\r\n      this.$refs.form.reset();\r\n    },\r\n\r\n    async handleSubmit() {\r\n      if (!this.$refs.form.validate()) return;\r\n\r\n      try {\r\n        if (this.isEditing) {\r\n          await this.updateRole({\r\n            id: this.currentRoleId,\r\n            roleData: this.roleForm,\r\n          });\r\n          this.showSnackbar(\"Role updated successfully\");\r\n        } else {\r\n          await this.createRole(this.roleForm);\r\n          this.showSnackbar(\"Role created successfully\");\r\n        }\r\n        this.closeModal();\r\n        await this.fetchRoles();\r\n      } catch (error) {\r\n        this.showSnackbar(error.message || \"An error occurred\", \"error\");\r\n      }\r\n    },\r\n\r\n    confirmDelete(id) {\r\n      this.currentRoleId = id;\r\n      this.showDeleteDialog = true;\r\n    },\r\n\r\n    async handleDelete() {\r\n      try {\r\n        await this.deleteRole(this.currentRoleId);\r\n        this.showSnackbar(\"Role deleted successfully\");\r\n        this.showDeleteDialog = false;\r\n        await this.fetchRoles();\r\n      } catch (error) {\r\n        this.showSnackbar(error.message || \"An error occurred\", \"error\");\r\n      }\r\n    },\r\n  },\r\n\r\n  async created() {\r\n    try {\r\n      await this.fetchRoles();\r\n    } catch (error) {\r\n      this.showSnackbar(error.message || \"Failed to fetch roles\", \"error\");\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.focused-field {\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.focused-field:deep(.v-input__slot) {\r\n  background: #f5f5f5;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RoleList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RoleList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./RoleList.vue?vue&type=template&id=8ba42d4c&scoped=true\"\nimport script from \"./RoleList.vue?vue&type=script&lang=js\"\nexport * from \"./RoleList.vue?vue&type=script&lang=js\"\nimport style0 from \"./RoleList.vue?vue&type=style&index=0&id=8ba42d4c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8ba42d4c\",\n  null\n  \n)\n\nexport default component.exports","// Styles\nimport './VTextarea.sass'\n\n// Extensions\nimport VTextField from '../VTextField/VTextField'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport Vue from 'vue'\n\ninterface options extends Vue {\n  $refs: {\n    input: HTMLTextAreaElement\n  }\n}\n\nconst baseMixins = mixins<options &\n  InstanceType<typeof VTextField>\n>(\n  VTextField\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-textarea',\n\n  props: {\n    autoGrow: Boolean,\n    noResize: Boolean,\n    rowHeight: {\n      type: [Number, String],\n      default: 24,\n      validator: (v: any) => !isNaN(parseFloat(v)),\n    },\n    rows: {\n      type: [Number, String],\n      default: 5,\n      validator: (v: any) => !isNaN(parseInt(v, 10)),\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-textarea': true,\n        'v-textarea--auto-grow': this.autoGrow,\n        'v-textarea--no-resize': this.noResizeHandle,\n        ...VTextField.options.computed.classes.call(this),\n      }\n    },\n    noResizeHandle (): boolean {\n      return this.noResize || this.autoGrow\n    },\n  },\n\n  watch: {\n    autoGrow (val: boolean) {\n      this.$nextTick(() => {\n        val\n          ? this.calculateInputHeight()\n          : this.$refs.input?.style.removeProperty('height')\n      })\n    },\n    lazyValue () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n    rowHeight () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n  },\n\n  mounted () {\n    setTimeout(() => {\n      this.autoGrow && this.calculateInputHeight()\n    }, 0)\n  },\n\n  methods: {\n    calculateInputHeight () {\n      const input = this.$refs.input\n      if (!input) return\n\n      input.style.height = '0'\n      const height = input.scrollHeight\n      const minHeight = parseInt(this.rows, 10) * parseFloat(this.rowHeight)\n      // This has to be done ASAP, waiting for Vue\n      // to update the DOM causes ugly layout jumping\n      input.style.height = Math.max(minHeight, height) + 'px'\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.tag = 'textarea'\n      delete input.data!.attrs!.type\n      input.data!.attrs!.rows = this.rows\n\n      return input\n    },\n    onInput (e: Event) {\n      VTextField.options.methods.onInput.call(this, e)\n      this.autoGrow && this.calculateInputHeight()\n    },\n    onKeyDown (e: KeyboardEvent) {\n      // Prevents closing of a\n      // dialog when pressing\n      // enter\n      if (this.isFocused && e.keyCode === 13) {\n        e.stopPropagation()\n      }\n\n      this.$emit('keydown', e)\n    },\n  },\n})\n"],"names":["scopedSlots","fn","_c","staticClass","isFocused","attrs","search","_vm","model","callback","$$v","expression","item","name","isActive","key","permission","on","_v","$event","loading","proxy","value","_s","ref","valid","v","index","$set","roleForm","handleSubmit","isEditing","showDeleteDialog","staticRenderFns","data","showModal","permissions","description","currentRoleId","headers","text","sortable","availablePermissions","snackbar","show","color","computed","mapState","mapGetters","methods","mapActions","showSnackbar","openCreateModal","openEditModal","role","_id","closeModal","$refs","form","reset","validate","updateRole","id","roleData","createRole","fetchRoles","error","message","confirmDelete","handleDelete","deleteRole","created","component","render","baseMixins","mixins","VTextField","extend","props","autoGrow","Boolean","noResize","rowHeight","type","Number","String","default","validator","isNaN","parseFloat","rows","parseInt","classes","this","noResizeHandle","options","call","watch","val","$nextTick","calculateInputHeight","_a","input","style","removeProperty","lazyValue","mounted","setTimeout","height","scrollHeight","minHeight","Math","max","genInput","tag","onInput","e","onKeyDown","keyCode","stopPropagation","$emit"],"sourceRoot":""}