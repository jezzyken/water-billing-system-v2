"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[436],{3124:function(t,e,i){i.r(e),i.d(e,{default:function(){return I}});var a=i(8505),r=i(6929),s=i(8400),n=i(6074),o=i(375),l=i(3882),c=i(6278),u=i(1770),m=i(9456),d=i(2987),h=i(5971),p=i(1075),f=i(3422),_=i(24),A=i(7954),w=i(6160),v=i(8031),b=i(7410),C=i(1735),x=function(){var t=this,e=t._self._c;return e(a.A,[e(v.A,{attrs:{app:"","mini-variant":t.mini,width:"240","mini-variant-width":"64",temporary:t.$vuetify.breakpoint.mobile,color:"#a52a2a",dark:""},on:{"update:miniVariant":function(e){t.mini=e},"update:mini-variant":function(e){t.mini=e}},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[e(d.A,{staticClass:"drawer-list",attrs:{dense:""}},[e("div",{staticClass:"user-profile pa-4"},[e("div",{staticClass:"text-center"},[e(n.A,{staticClass:"mb-3",attrs:{size:"40",color:"grey lighten-4",elevation:"2"}},[e("span",{staticClass:"primary--text font-weight-medium text-caption"},[t._v(t._s(t.userInitials))])])],1),t.mini?t._e():e("div",{staticClass:"user-details text-center"},[e("h3",{staticClass:"text-subtitle-1 font-weight-medium mb-1"},[t._v(" "+t._s(t.currentUser.name)+" ")]),e("p",{staticClass:"text-caption mb-2 white--text"},[t._v(" "+t._s(t.currentUser.email)+" ")]),e("div",{staticClass:"role-info"},[e(l.A,{staticClass:"mr-1 mb-1",attrs:{small:"",color:"white","text-color":"white",outlined:""}},[t._v(" "+t._s(t.currentUser.department)+" ")]),e(l.A,{staticClass:"mb-1",attrs:{small:"",color:"white","text-color":"white",outlined:""}},[t._v(" "+t._s(t.currentUser.role.name)+" ")])],1)])]),e(u.A,{staticClass:"mb-2"}),e(p.A,[e(_.A,[e(m.A,{staticClass:"white--text"},[t._v("mdi-home-circle")])],1),t.mini?t._e():e(f.pr,[e(f.UZ,{staticClass:"white--text"},[t._v("GIT E-DTS")])],1)],1),t._l(t.filteredMenuItems,(function(i){return[!i.show||"isAdmin"!==i.show||t.isAdmin?[i.children?e(h.A,{key:i.title,staticClass:"drawer-item",attrs:{"prepend-icon":i.icon,value:t.isGroupActive(i)},scopedSlots:t._u([{key:"activator",fn:function(){return[e(f.pr,[e(f.UZ,{staticClass:"white--text"},[t._v(t._s(i.title))])],1)]},proxy:!0}],null,!0)},t._l(i.children,(function(i){return e(p.A,{key:i.title,staticClass:"drawer-sub-item white--text",class:{"active-item":t.$route.path===i.to},attrs:{to:i.to,link:""}},[e(_.A,[e(m.A,{staticClass:"white--text"},[t._v(t._s(i.icon))])],1),t.mini?t._e():e(f.pr,[e(f.UZ,{staticClass:"white--text"},[t._v(t._s(i.title))])],1)],1)})),1):e(p.A,{key:i.title,staticClass:"drawer-item white--text",class:{"active-item":t.$route.path===i.to},attrs:{to:i.to,link:""}},[e(_.A,[e(m.A,{staticClass:"white--text"},[t._v(t._s(i.icon))])],1),t.mini?t._e():e(f.pr,[e(f.UZ,{staticClass:"white--text"},[t._v(t._s(i.title))])],1)],1)]:t._e()]}))],2)],1),e(r.A,{attrs:{app:"",color:"white",elevation:"1"}},[e(s.A,{attrs:{color:"#a52a2a"},on:{click:function(e){return e.stopPropagation(),t.toggleDrawer.apply(null,arguments)}}}),e(C.sw,{staticClass:"brown--text text--darken-4"},[t._v(" "+t._s(t.capitalizedRouteName))]),e(b.A),e(w.A,{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:a}){return[e(o.A,t._g(t._b({attrs:{icon:""}},"v-btn",a,!1),i),[e(m.A,{attrs:{color:"#a52a2a"}},[t._v("mdi-account-circle")])],1)]}}])},[e(d.A,t._l(t.accountMenu,(function(i){return e(p.A,{key:i.title,on:{click:function(e){return t.handleAction(i.action)}}},[e(_.A,[e(m.A,[t._v(t._s(i.icon))])],1),e(f.UZ,[t._v(t._s(i.title))])],1)})),1)],1)],1),e(A.A,[e(c.A,{attrs:{fluid:""}},[e("router-view")],1)],1)],1)},g=[],k=(i(4114),i(5353)),y={name:"DashboardLayout",data:()=>({drawer:!0,mini:!1,menuItems:[{title:"Dashboard",icon:"mdi-view-dashboard",to:"/admin/dashboard"},{title:"Request Page",icon:"mdi-clipboard-text-outline",to:"/"},{title:"Documents",icon:"mdi-file-document-multiple",defaultOpen:!0,children:[{title:"Documents",icon:"mdi-file-document",to:"/admin/documents"},{title:"Document Request",icon:"mdi-file-send",to:"/admin/request-list"}]},{title:"Admin",icon:"mdi-account-group",show:"isAdmin",children:[{title:"Users",icon:"mdi-account-multiple",to:"/admin/users"},{title:"Roles",icon:"mdi-shield-account",to:"/admin/user-roles"},{title:"Departments",icon:"mdi-domain",to:"/admin/departments"},{title:"Status",icon:"mdi-checkbox-marked-circle-outline",to:"/admin/status"}]},{title:"Reports",icon:"mdi-chart-box",to:"/admin/reports"}],accountMenu:[{title:"Logout",icon:"mdi-logout",action:"logout"}]}),computed:{capitalizedRouteName(){return this.$route.name.charAt(0).toUpperCase()+this.$route.name.slice(1)},isAdmin(){const t=JSON.parse(localStorage.getItem("user"));return"Admin"===t?.role?.name},filteredMenuItems(){return this.menuItems.filter((t=>{if("isAdmin"===t.show&&!this.isAdmin)return!1;if("Dashboard"===t.title){const t=JSON.parse(localStorage.getItem("user"));if("Staff"===t?.role?.name)return!1}return!0}))},currentUser(){try{const t=JSON.parse(localStorage.getItem("user"))||{};return t?{name:"undefined undefined"!==t?.name&&t?.name||"undefined undefined"!==t?.fullName&&t?.fullName||t?.email||"User",email:t?.email||"",role:t?.role||{name:"Guest"},department:t?.department?.name||"Guest"}:null}catch(t){return console.error("Error parsing user data:",t),null}},userInitials(){const t=this.currentUser?.name||"Admin";if(t.includes("@"))return t[0].toUpperCase();const e=t.split(" ");return e.map((t=>t.charAt(0))).join("").toUpperCase().slice(0,2)}},methods:{...(0,k.i0)("auth",["logout"]),isGroupActive(t){return!!t.children&&(t.defaultOpen||t.children.some((t=>this.$route.path===t.to)))},toggleDrawer(){this.$vuetify.breakpoint.mobile?this.drawer=!this.drawer:(this.mini=!this.mini,this.drawer=!0)},goToProfile(){this.$router.push({name:"Profile"})},handleAction(t){this[t]&&this[t]()}},watch:{$route(){this.$vuetify.breakpoint.mobile&&(this.drawer=!1)}}},U=y,S=i(1656),D=(0,S.A)(U,x,g,!1,null,null,null),I=D.exports},1735:function(t,e,i){i.d(e,{sw:function(){return s}});var a=i(7043),r=i(6960);const s=(0,r.Gn)("v-toolbar__title"),n=(0,r.Gn)("v-toolbar__items");a.A}}]);
//# sourceMappingURL=436.6ce54684.js.map